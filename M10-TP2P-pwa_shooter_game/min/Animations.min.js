const animation_toggle_on=toggle_pressed=>{let border=toggle_pressed,toggle1,toggle2,border2,id=border.parentNode.parentNode.parentNode.parentNode.parentNode.id;switch(console.log(id),id){case"settings_page":toggle_pressed.matches(".BGM")&&(toggle1=toggle_pressed.querySelector(".mdi"),border2=document.querySelector("#modal_pause_window .BGM"),toggle2=document.querySelector("#modal_pause_window .BGM .mdi")),toggle_pressed.matches(".shoots")&&(toggle1=toggle_pressed.querySelector(".mdi"),border2=document.querySelector("#modal_pause_window .shoots"),toggle2=document.querySelector("#modal_pause_window .shoots .mdi"));break;case"modal_pause_window":toggle_pressed.matches(".BGM")&&(toggle1=toggle_pressed.querySelector(".mdi"),border2=document.querySelector("#settings_page .BGM"),toggle2=document.querySelector("#settings_page .BGM .mdi")),toggle_pressed.matches(".shoots")&&(toggle1=toggle_pressed.querySelector(".mdi"),border2=document.querySelector("#settings_page .shoots"),toggle2=document.querySelector("#settings_page .shoots .mdi"))}anime.set(toggle1,{translateX:0}),anime.set(toggle2,{translateX:0}),animation_toggles=anime.timeline({easing:"easeInOutQuad",duration:200,opacity:1}),animation_toggles.add({targets:toggle1,translateX:25}).add({targets:toggle2,translateX:25}).add({targets:border,opacity:1,borderColor:"#323232",borderSize:3},"-=100").add({targets:border2,opacity:1,borderColor:"#323232",borderSize:3,complete:function(anim){toggle1.classList.replace("mdi-checkbox-blank-circle","mdi-checkbox-marked-circle"),toggle2.classList.replace("mdi-checkbox-blank-circle","mdi-checkbox-marked-circle"),border2.classList.add("on")}},"-=150")},animation_toggle_off=toggle_pressed=>{let border=toggle_pressed,id=border.parentNode.parentNode.parentNode.parentNode.parentNode.id;switch(console.log(id),id){case"settings_page":toggle_pressed.matches(".BGM")&&(toggle1=toggle_pressed.querySelector(".mdi"),border2=document.querySelector("#modal_pause_window .BGM"),toggle2=document.querySelector("#modal_pause_window .BGM .mdi")),toggle_pressed.matches(".shoots")&&(toggle1=toggle_pressed.querySelector(".mdi"),border2=document.querySelector("#modal_pause_window .shoots"),toggle2=document.querySelector("#modal_pause_window .shoots .mdi"));break;case"modal_pause_window":toggle_pressed.matches(".BGM")&&(toggle1=toggle_pressed.querySelector(".mdi"),border2=document.querySelector("#settings_page .BGM"),toggle2=document.querySelector("#settings_page .BGM .mdi")),toggle_pressed.matches(".shoots")&&(toggle1=toggle_pressed.querySelector(".mdi"),border2=document.querySelector("#settings_page .shoots"),toggle2=document.querySelector("#settings_page .shoots .mdi"))}anime.set(toggle1,{translateX:20}),anime.set(toggle2,{translateX:20}),animation_toggles=anime.timeline({easing:"easeInOutQuad",duration:200,opacity:1}),animation_toggles.add({targets:toggle1,translateX:0}).add({targets:toggle2,translateX:0}).add({targets:border,opacity:1,borderColor:"rgba(50, 50, 50, 0)",borderSize:3},"-=2100").add({targets:border2,opacity:1,borderColor:"#323232",borderSize:3,complete:function(anim){toggle1.classList.replace("mdi-checkbox-marked-circle","mdi-checkbox-blank-circle"),toggle2.classList.replace("mdi-checkbox-marked-circle","mdi-checkbox-blank-circle"),border2.classList.remove("on")}},"-=300")},animation_FadeIn=()=>{const splash=GAME_UI.pages.splash,astronaut=splash.querySelectorAll("svg .Astronaut_logo path");anime.set(splash,{visibility:"visible",opacity:1}),anime.set(astronaut,{translateY:"1",opacity:0}),animation_layout=anime.timeline({easing:"easeInOutQuad",duration:400}),animation_layout.add({targets:astronaut,translateY:"0",opacity:1})},animation_menu=()=>{const menu=GAME_UI.pages.menu,Titulo_h1=menu.querySelector("h1"),bg_slider=menu.querySelector(".slider");anime.set(Titulo_h1,{opacity:0}),anime.set(bg_slider,{opacity:0}),animation_layout=anime.timeline({duration:100,easing:"easeInOutSine"}),animation_layout.add({targets:menu,opacity:1}).add({targets:Titulo_h1,opacity:1}).add({targets:bg_slider,opacity:1})},animation_leader=()=>{const page=GAME_UI.pages.leaderboard,title_score=page.querySelector(".hscore h2"),score=page.querySelector(".hscore .main"),title_lboard=page.querySelector(".lboard h2"),score_item=page.querySelectorAll(".lboard_table > .lboard_item"),footer=page.querySelector(".footer"),footer_mdi=page.querySelector(".footer .bg");anime.set([title_score],{opacity:0,translateX:"20%"}),anime.set([score],{opacity:0,scale:0}),anime.set([title_lboard],{opacity:0,translateX:"-20%",scale:".70"}),anime.set([score_item],{opacity:0,translateX:"35%"}),anime.set(footer,{translateY:"50",opacity:0}),anime.set(footer_mdi,{scale:0,opacity:0}),animation_layout=anime.timeline({duration:500,easing:"easeInOutQuad"}),animation_layout.add({targets:title_score,translateX:0,opacity:1},"+=200").add({targets:score,opacity:1,scale:1},"+=100").add({targets:title_lboard,opacity:1,translateX:0,scale:1},"+=200").add({targets:score_item,translateX:0,opacity:1,delay:anime.stagger(350,{easing:"easeInOutSine"},"-=100")}).add({targets:footer,translateY:0,opacity:1}).add({targets:footer_mdi,scale:[.7,.6,1],opacity:1,easing:"easeInOutSine"},"-=200")},animation_settings=()=>{const page=GAME_UI.pages.settings,title_settings=page.querySelector("h2"),settings_element=page.querySelectorAll(".settings .setting"),bar_setting=page.querySelectorAll(".setting .setting_toggle"),footer=page.querySelector(".footer"),footer_mdi=page.querySelector(".footer .bg");anime.set(footer,{translateY:"50",opacity:0}),anime.set(footer_mdi,{scale:0,opacity:0}),anime.set(page,{opacity:0,translateY:"30%"}),anime.set(title_settings,{opacity:0,translateX:"-100%"}),anime.set([settings_element],{opacity:0,translateX:"50%"}),anime.set([bar_setting],{opacity:0,translateY:"-20%"}),animation_layout=anime.timeline({duration:500,easing:"easeInOutQuad"}),animation_layout.add({targets:page,opacity:1,translateY:0}).add({targets:title_settings,opacity:1,translateX:0},"+=200").add({targets:settings_element,translateX:0,opacity:1,delay:anime.stagger(200)},"-=100").add({targets:bar_setting,opacity:1,translateY:0,delay:anime.stagger(300,{easing:"easeInOutSine"})}).add({targets:footer,translateY:0,opacity:1}).add({targets:footer_mdi,scale:[.7,.6,1],opacity:1,easing:"easeInOutSine"},"-=200")},animation_main=()=>{const page=GAME_UI.pages.main,ui_elements=page.querySelectorAll(".ui > div"),ui_life_icon=page.querySelector(".ui .lifes .icon"),ui_score_icon=page.querySelector(".ui .score .icon");anime.set(page,{opacity:0}),anime.set(ui_elements,{opacity:0,translateX:"-100"}),anime.set(ui_life_icon,{opacity:0,translateX:"30",scale:0}),anime.set(ui_score_icon,{opacity:0,translateX:"-30",scale:0}),animation_layout=anime.timeline({duration:800,easing:"easeInOutSine"}),animation_layout.add({targets:page,opacity:1}).add({targets:ui_elements,translateX:0,opacity:1,delay:anime.stagger(100,{easing:"easeInOutExpo"})}).add({targets:ui_life_icon,opacity:1,translateX:0,scale:1}).add({targets:ui_score_icon,opacity:1,translateX:0,scale:1})},animation_SplashToMenu=getTo=>{const from=GAME_UI.pages.splash,page=GAME_UI.pages.swiperContainer,to=GAME_UI.pages.menu;anime.set(from,{visibility:"visible",translateY:"0",opacity:1}),anime.set(to,{visibility:"visible",translateY:"100%",opacity:0}),anime.set(page,{opacity:1,visibility:"visible"}),animation_layout=anime.timeline({duration:50,easing:"easeInOutSine"}),animation_layout.add({targets:[from],translateY:"-50%",opacity:0}).add({targets:[page],opacity:1}).add({targets:[to],translateY:0,opacity:0},"-=50")},animation_MenuToMain=()=>{const from=GAME_UI.pages.swiperContainer,to=GAME_UI.pages.main;anime.set(to,{visibility:"visible",translateY:"100%",opacity:0}),animation_layout=anime.timeline({duration:600,easing:"easeInOutSine"}),animation_layout.add({targets:[from],translateY:"-100%",opacity:0}).add({targets:[to],translateY:0,opacity:0,complete:function(anim){"#"+to.id=="#main_page"&&(showSpinner(),animation_main(),animation_layout.finished.then(()=>{hideSpinner(),startGame()}))}},"-=750")},animation_MaintoMenu=()=>{const from=GAME_UI.pages.main,to=GAME_UI.pages.swiperContainer;anime.set([to],{visibility:"visible",opacity:0,translateY:"100"}),animation_layout=anime.timeline({duration:600,easing:"easeInOutQuad"}),animation_layout.add({targets:from,opacity:0,translateY:"100%"}).add({targets:to,translateY:0,opacity:1})},animation_PopupPause=()=>{const popup=GAME_UI.modalWindows.pause,bg=GAME_UI.app.querySelector("#modal_pause_window .overlay"),blur=GAME_UI.pages.main;anime.set(popup,{translateY:"20%",opacity:0,visibility:"visible"}),anime.set(bg,{opacity:0,visibility:"visible"}),animation_layout=anime.timeline({duration:500,easing:"easeOutQuad",update:function(anim){blur.style.filter="blur("+.1*anim.progress/2+"px)"}}),animation_layout.add({targets:bg,opacity:1}).add({targets:popup,translateY:"0%",opacity:1},"-=200")},animation_PopupResume=()=>{const popup=GAME_UI.modalWindows.pause,blur=GAME_UI.pages.main,bg=GAME_UI.app.querySelector("#modal_pause_window .overlay");anime.set(popup,{translateY:"0",opacity:1}),anime.set(bg,{translateY:"0",opacity:1}),animation_layout=anime.timeline({duration:600,easing:"easeOutQuad",update:function(anim){blur.style.filter="blur("+.1/anim.progress+"px)"}}),animation_layout.add({targets:popup,translateY:"50%",opacity:0}).add({targets:bg,opacity:0,complete:function(anim){anime.set(popup,{visibility:"hidden"}),anime.set(bg,{visibility:"hidden"})}},"-=200")},animation_dead=()=>{const popup_dead=GAME_UI.modalWindows.dead;anime.set([popup_dead],{opacity:0,visibility:"visible"}),animation_layout=anime.timeline({duration:600,easing:"easeInOutSine"}),animation_layout.add({targets:popup_dead,opacity:1})};animation_dead_reset=()=>{const popup_dead=GAME_UI.modalWindows.dead;anime.set([popup_dead],{opacity:1,visibility:"visible"}),animation_layout=anime.timeline({duration:600,easing:"easeInOutSine"}),animation_layout.add({targets:popup_dead,opacity:0,complete:function(anim){anime.set(popup_dead,{visibility:"hidden"})}})};const animation_exit=()=>{const popup_exit=GAME_UI.modalWindows.confirm;anime.set([popup_exit],{opacity:0,visibility:"visible"}),animation_layout=anime.timeline({duration:500,easing:"easeInOutQuad"}),animation_layout.add({targets:popup_exit,opacity:1})},animation_cancel_exit=()=>{const popup_exit=GAME_UI.modalWindows.confirm;anime.set([popup_exit],{opacity:1,visibility:"visible"}),animation_layout=anime.timeline({duration:500,easing:"easeInOutQuad"}),animation_layout.add({targets:popup_exit,opacity:0,complete:function(anim){anime.set(popup_exit,{visibility:"hidden"})}})};