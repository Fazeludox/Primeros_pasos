let links,sections,modals,animation_layout,animation_toggles;const navigationErrHandler=(err="")=>{err&&(console.error("Ops! Something went wrong"),console.error(err))},initNavigationEvents=()=>{links.forEach(link=>{link.addEventListener("click",ev=>{ev.preventDefault();const navigationType=link.getAttribute("navigation-type"),animationType=link.getAttribute("animation-type"),getTo="#"+link.href.split("#").slice(-1);switch(navigationType){case"swipe":swipeTo(getTo);break;case"animation":navigationTo(getTo,animationType);break;case"modal":popUpToggle(getTo,animationType);break;default:navigationErrHandler()}})})},swipeTo=(getTo="#menu_page")=>{item=document.querySelectorAll(".swiper_item");let i=0;for(let value of item)getTo==="#"+value.id?swiper.slideTo(i):i++;switch(getTo){case"#menu_page":animation_menu();break;case"#settings_page":animation_settings();break;case"#leaderboard_page":animation_leader();break;default:console.log(getTo+" No esta definido")}swiper||navigationErrHandler("No has programado la funcionalidad de Swiper todavía!"),GAME_UI.state.navigationStage=getTo},navigationTo=(getTo,animationType)=>{switch(animationType){case"fade_in":animation_FadeIn(getTo),animation_layout.finished.then(()=>{navigationTo("#swiper_page","splash_to_menu")});break;case"splash_to_menu":animation_SplashToMenu(getTo),setTimeout((function(){animation_menu()}),50);break;case"menu_to_game":animation_MenuToMain();break;case"game_out":animation_cancel_exit(),animation_layout.finished.then(()=>{animation_PopupResume(),animation_layout.finished.then(()=>{animation_MaintoMenu(),animation_menu(),game.resetGame(getTo)})});break;case"dead":animation_dead();break;case"dead_exit":animation_dead_reset(),animation_layout.finished.then(()=>{animation_MaintoMenu(),animation_menu(),game.resetGame(getTo)});break;default:navigationErrHandler(`No has programado el animation-type="${animationType}" todavía!`)}GAME_UI.state.navigationStage=getTo},popUpToggle=(getTo,animationType)=>{switch(animationType){case"pause_modal":animation_PopupPause(getTo),animation_layout.finished.then(()=>{game.pauseOrResume()});break;case"resume_modal":animation_PopupResume(getTo),animation_layout.finished.then(()=>{game.pauseOrResume()});break;case"confirm_modal_in":animation_exit();break;case"reset":animation_dead_reset(),animation_layout.finished.then(()=>{showSpinner(),animation_main(),animation_layout.finished.then(()=>{hideSpinner(),document.getElementById(GAME_UI.modalWindows.dead.id).style.setProperty("visibility","hidden"),game.resetGame(getTo),startGame()})});break;case"confirm_modal_out":animation_cancel_exit(),animation_layout.finished.then(()=>{GAME_UI.modalWindows.confirm.style.setProperty("visibility","hidden")});break;default:navigationErrHandler(`No has programado el animation-type="${animationType}" todavía!`)}GAME_UI.state.navigationStage=getTo},showSpinner=()=>{GAME_UI.state.spinning=!0,GAME_UI.modalWindows.spinner.classList.add("active")},hideSpinner=()=>{GAME_UI.state.spinning=!1,GAME_UI.modalWindows.spinner.classList.remove("active")},initNavigation=()=>{links=GAME_UI.app.querySelectorAll('a[href^="#"]'),sections=GAME_UI.app.querySelectorAll("section"),modals=GAME_UI.app.querySelector("modal_window"),initNavigationEvents()};